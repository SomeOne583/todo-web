<mat-card style="width: 100%; margin-left: 0; margin-top: 0; background-color: ghostwhite; height: 100%;" #grid>
  <ng-container [ngSwitch]="action">
    <ng-template #logged [ngSwitchCase]="'logged'">
      <app-todo [token]="token" [session]="session"></app-todo>
    </ng-template>
    <ng-template #login [ngSwitchCase]="'login'">
      <mat-card>
        <mat-toolbar color="primary">
          Acceder
        </mat-toolbar>
        <mat-form-field appearance="outline">
          <mat-label>Correo</mat-label>
          <input matInput [formControl]="emailFormControl" type="email" placeholder="example@mail.com" #mail>
          <mat-error>Ingresa un email válido</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input matInput [formControl]="passwordFormControl" type="password" #password>
          <mat-error>Debe tener por lo menos 8 caracteres</mat-error>
        </mat-form-field>
        <br>
        <mat-toolbar>
          <button mat-flat-button color="primary" (click)="changeAction()">¿No tienes cuenta? Registrate</button>
          <button #login_button mat-raised-button color="accent" (click)="log(mail.value, password.value)" style="margin-left: auto;">Iniciar sesión</button>
        </mat-toolbar>
      </mat-card>
    </ng-template>
    <ng-template #signup [ngSwitchCase]="'signup'">
      <mat-card>
        <mat-toolbar color="primary">
          Crear tu cuenta
        </mat-toolbar>
        <mat-form-field appearance="outline">
          <mat-label>Correo</mat-label>
          <input matInput [formControl]="emailFormControl" type="email" placeholder="example@mail.com" #mail>
          <mat-error>Ingresa un email válido</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input matInput [formControl]="passwordFormControl" type="password" #password>
          <mat-error>Debe tener por lo menos 8 caracteres</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Confirma tu contraseña</mat-label>
          <input matInput type="password" #password_confirmation>
        </mat-form-field>
        <br>
        <mat-toolbar>
          <button mat-flat-button color="primary" (click)="changeAction()">¿Ya tienes cuenta? Inicia sesión</button>
          <button #register_button mat-raised-button color="accent" (click)="register(mail.value, password.value, password_confirmation.value)" style="margin-left: auto;">Registrarme</button>
        </mat-toolbar>
      </mat-card>
    </ng-template>
  </ng-container>
</mat-card>
